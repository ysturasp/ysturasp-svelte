<script lang="ts">
	import { onMount } from 'svelte';

	let activeTab = 'page';

	const tabs = [
		{ id: 'page', icon: 'üìÑ', title: '–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã' },
		{ id: 'text', icon: 'üìù', title: '–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞' },
		{ id: 'headers', icon: 'üìå', title: '–ó–∞–≥–æ–ª–æ–≤–∫–∏' },
		{ id: 'refs', icon: 'üîó', title: '–°—Å—ã–ª–∫–∏ –∏ –æ–±—Ä–∞—â–µ–Ω–∏—è' },
		{ id: 'elements', icon: 'üé®', title: '–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤' },
		{ id: 'lists', icon: 'üìã', title: '–°–ø–∏—Å–∫–∏ –∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è' }
	];

	const pageRules = {
		margins: {
			top: 2,
			right: 1,
			bottom: 2,
			left: 3
		},
		pageNumbers: {
			position: 'top-right',
			startFrom: 'introduction'
		}
	};

	const textRules = {
		font: 'Times New Roman',
		size: 14,
		indent: 1.25,
		alignment: 'justify',
		lineHeight: '–æ–¥–∏–Ω–∞—Ä–Ω—ã–π',
		tableSize: '12-14'
	};

	const headerLevels = [
		{
			level: 1,
			topMargin: 0,
			bottomMargin: 36,
			examples: ['1 –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å', '–í–≤–µ–¥–µ–Ω–∏–µ', '–ó–∞–∫–ª—é—á–µ–Ω–∏–µ']
		},
		{
			level: 2,
			topMargin: 24,
			bottomMargin: 24,
			examples: ['1.1 –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞']
		},
		{
			level: 3,
			topMargin: 12,
			bottomMargin: 0,
			examples: ['1.1.1 –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è']
		}
	];

	function getPagePreview() {
		return `
			<svg width="200" height="280" viewBox="0 0 200 280">
				<rect x="25" y="20" width="140" height="240" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
				<rect x="45" y="35" width="110" height="210" fill="#0f172a"/>
				<line x1="25" y1="20" x2="45" y2="35" stroke="#3b82f6" stroke-width="1" stroke-dasharray="2"/>
				<line x1="165" y1="20" x2="155" y2="35" stroke="#3b82f6" stroke-width="1" stroke-dasharray="2"/>
				<line x1="165" y1="260" x2="155" y2="245" stroke="#3b82f6" stroke-width="1" stroke-dasharray="2"/>
				<line x1="25" y1="260" x2="45" y2="245" stroke="#3b82f6" stroke-width="1" stroke-dasharray="2"/>
				<text x="5" y="145" fill="#3b82f6" font-size="10" transform="rotate(-90, 15, 140)">3 —Å–º</text>
				<text x="175" y="155" fill="#3b82f6" font-size="10" transform="rotate(90, 185, 140)">1 —Å–º</text>
				<text x="100" y="15" fill="#3b82f6" font-size="10" text-anchor="middle">2 —Å–º</text>
				<text x="100" y="272" fill="#3b82f6" font-size="10" text-anchor="middle">2 —Å–º</text>
			</svg>
		`;
	}

	function getTextPreview() {
		return `
			<svg width="200" height="100" viewBox="0 0 200 100">
				<rect x="10" y="10" width="180" height="80" fill="#1e293b"/>
				<line x1="35" y1="30" x2="175" y2="30" stroke="#3b82f6" stroke-width="2"/>
				<line x1="35" y1="45" x2="175" y2="45" stroke="#3b82f6" stroke-width="2"/>
				<line x1="35" y1="60" x2="175" y2="60" stroke="#3b82f6" stroke-width="2"/>
				<text x="45" y="25" fill="#3b82f6" font-size="10">Times New Roman, 14pt</text>
				<text x="35" y="41" fill="#3b82f6" font-size="10">—Ç–µ–∫—Å—Ç —Ç–µ–∫—Å—Ç —Ç–µ–∫—Å—Ç —Ç–µ–∫—Å—Ç —Ç–µ–∫—Å—Ç</text>
				<path d="M45,29 L45,70" stroke="#e7000b" stroke-width="2" stroke-dasharray="2"/>
				<text x="49" y="69" fill="#3b82f6" font-size="8">1.25 —Å–º</text>
			</svg>
		`;
	}
</script>

<div class="mt-8 rounded-2xl bg-slate-800 p-4 md:p-6">
	<div class="mb-6 flex items-center border-b border-slate-700 pb-4">
		<h2 class="text-4xl font-semibold text-white">üìã</h2>
		<h2 class="ml-3 text-xl font-semibold text-white md:text-3xl">–ü—Ä–∞–≤–∏–ª–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
	</div>

	<div class="mb-6 grid grid-cols-3 gap-1.5 sm:grid-cols-6 md:gap-2">
		{#each tabs as tab}
			<button
				class="group relative flex flex-col items-center justify-center rounded-lg p-2 transition-all {activeTab ===
				tab.id
					? 'bg-blue-500/10 text-blue-400'
					: 'text-slate-400 hover:bg-slate-700/50 hover:text-slate-300'}"
				on:click={() => (activeTab = tab.id)}
			>
				<span class="text-2xl transition-transform group-hover:scale-110">{tab.icon}</span>
				<span class="mt-1 text-center text-xs">{tab.title}</span>
				{#if activeTab === tab.id}
					<div
						class="absolute -bottom-1 left-1/2 h-0.5 w-8 -translate-x-1/2 rounded-full bg-blue-400"
					></div>
				{/if}
			</button>
		{/each}
	</div>

	<div class="rounded-xl bg-slate-900/50 p-4 ring-1 ring-slate-700/50">
		{#if activeTab === 'page'}
			<div class="grid gap-6 md:grid-cols-2">
				<div>
					<h3 class="mb-4 text-xl font-semibold text-white">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã</h3>
					<ul class="space-y-2 text-slate-300">
						<li class="flex items-center gap-2">
							<span class="text-blue-400">‚Üí</span>
							–õ–µ–≤–æ–µ –ø–æ–ª–µ: {pageRules.margins.left} —Å–º
						</li>
						<li class="flex items-center gap-2">
							<span class="text-blue-400">‚Üí</span>
							–ü—Ä–∞–≤–æ–µ –ø–æ–ª–µ: {pageRules.margins.right} —Å–º
						</li>
						<li class="flex items-center gap-2">
							<span class="text-blue-400">‚Üí</span>
							–í–µ—Ä—Ö–Ω–µ–µ –ø–æ–ª–µ: {pageRules.margins.top} —Å–º
						</li>
						<li class="flex items-center gap-2">
							<span class="text-blue-400">‚Üí</span>
							–ù–∏–∂–Ω–µ–µ –ø–æ–ª–µ: {pageRules.margins.bottom} —Å–º
						</li>
						<li class="mt-4 text-slate-400">
							–ù–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –≤–≤–µ–¥–µ–Ω–∏—è –∏ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º
							—É–≥–ª—É
						</li>
					</ul>
				</div>
				<div class="flex justify-center">
					{@html getPagePreview()}
				</div>
			</div>
		{:else if activeTab === 'text'}
			<div class="grid gap-6 md:grid-cols-2">
				<div>
					<h3 class="mb-4 text-xl font-semibold text-white">–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞</h3>
					<ul class="space-y-2 text-slate-300">
						<li class="flex items-center gap-2">
							<span class="text-blue-400">‚Üí</span>
							–®—Ä–∏—Ñ—Ç: {textRules.font}
						</li>
						<li class="flex items-center gap-2">
							<span class="text-blue-400">‚Üí</span>
							–†–∞–∑–º–µ—Ä: {textRules.size} –ø—Ç
						</li>
						<li class="flex items-center gap-2">
							<span class="text-blue-400">‚Üí</span>
							–ö—Ä–∞—Å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞: {textRules.indent} —Å–º
						</li>
						<li class="flex items-center gap-2">
							<span class="text-blue-400">‚Üí</span>
							–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ: –ø–æ —à–∏—Ä–∏–Ω–µ
						</li>
						<li class="flex items-center gap-2">
							<span class="text-blue-400">‚Üí</span>
							–ú–µ–∂—Å—Ç—Ä–æ—á–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª: {textRules.lineHeight}
						</li>
						<li class="mt-4 text-slate-400">
							–í —Ç–∞–±–ª–∏—Ü–∞—Ö –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ {textRules.tableSize} –ø—Ç
						</li>
					</ul>
				</div>
				<div class="flex justify-center">
					{@html getTextPreview()}
				</div>
			</div>
		{:else if activeTab === 'headers'}
			<div class="space-y-4">
				<h3 class="text-xl font-semibold text-white">–£—Ä–æ–≤–Ω–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤</h3>
				{#each headerLevels as header}
					<div class="rounded-lg bg-slate-800 p-4">
						<h4 class="mb-2 text-lg font-semibold text-white">
							–£—Ä–æ–≤–µ–Ω—å {header.level}
						</h4>
						<div class="grid gap-4 md:grid-cols-2">
							<div>
								<p class="text-slate-300">
									–û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É: {header.topMargin} –ø—Ç
								</p>
								<p class="text-slate-300">
									–û—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É: {header.bottomMargin} –ø—Ç
								</p>
							</div>
							<div>
								<p class="text-slate-400">–ü—Ä–∏–º–µ—Ä—ã:</p>
								<ul class="mt-2 space-y-1 text-blue-400">
									{#each header.examples as example}
										<li>{example}</li>
									{/each}
								</ul>
							</div>
						</div>
					</div>
				{/each}
			</div>
		{:else if activeTab === 'refs'}
			<div class="space-y-4">
				<h3 class="mb-4 text-xl font-semibold text-white">–ü—Ä–∞–≤–∏–ª–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π</h3>
				<div class="grid gap-4 md:grid-cols-2">
					<div class="rounded-lg bg-slate-800 p-4">
						<h4 class="mb-2 text-lg font-semibold text-blue-400">–ö —Ä–∏—Å—É–Ω–∫–∞–º</h4>
						<p class="text-slate-300">–í —Å–∫–æ–±–∫–∞—Ö: (—Ä–∏—Å—É–Ω–æ–∫ 1)</p>
						<p class="text-slate-300">–í —Ç–µ–∫—Å—Ç–µ: –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ 1</p>
					</div>
					<div class="rounded-lg bg-slate-800 p-4">
						<h4 class="mb-2 text-lg font-semibold text-blue-400">–ö —Ç–∞–±–ª–∏—Ü–∞–º</h4>
						<p class="text-slate-300">–í —Å–∫–æ–±–∫–∞—Ö: (—Ç–∞–±–ª–∏—Ü–∞ 1)</p>
						<p class="text-slate-300">–í —Ç–µ–∫—Å—Ç–µ: –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ —Ç–∞–±–ª–∏—Ü–µ 1</p>
					</div>
					<div class="rounded-lg bg-slate-800 p-4">
						<h4 class="mb-2 text-lg font-semibold text-blue-400">–ö –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–µ</h4>
						<p class="text-slate-300">–í –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö: [1]</p>
					</div>
					<div class="rounded-lg bg-slate-800 p-4">
						<h4 class="mb-2 text-lg font-semibold text-blue-400">–ö —Ñ–æ—Ä–º—É–ª–∞–º</h4>
						<p class="text-slate-300">–í –∫—Ä—É–≥–ª—ã—Ö —Å–∫–æ–±–∫–∞—Ö: (1)</p>
					</div>
				</div>
			</div>
		{:else if activeTab === 'elements'}
			<div class="space-y-4">
				<h3 class="text-xl font-semibold text-white">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</h3>
				<div class="grid gap-4 md:grid-cols-2">
					<div class="rounded-lg bg-slate-800 p-4">
						<h4 class="mb-2 text-lg font-semibold text-blue-400">–†–∏—Å—É–Ω–∫–∏</h4>
						<ul class="space-y-2 text-slate-300">
							<li>‚Ä¢ –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É</li>
							<li>‚Ä¢ –ü—Ä–æ–±–µ–ª –¥–æ –∏ –ø–æ—Å–ª–µ —Ä–∏—Å—É–Ω–∫–∞</li>
							<li>‚Ä¢ –ü–æ–¥–ø–∏—Å—å: –ø–æ —Ü–µ–Ω—Ç—Ä—É, Times New Roman, 14 –ø—Ç</li>
						</ul>
					</div>
					<div class="rounded-lg bg-slate-800 p-4">
						<h4 class="mb-2 text-lg font-semibold text-blue-400">–¢–∞–±–ª–∏—Ü—ã</h4>
						<ul class="space-y-2 text-slate-300">
							<li>‚Ä¢ –ù–∞–∑–≤–∞–Ω–∏–µ —Å –∫—Ä–∞—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏</li>
							<li>‚Ä¢ –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø–æ—Å–ª–µ –Ω–∞–∑–≤–∞–Ω–∏—è: 6 –ø—Ç</li>
							<li>‚Ä¢ –ü—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ: "–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã"/"–û–∫–æ–Ω—á–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã"</li>
						</ul>
					</div>
					<div class="rounded-lg bg-slate-800 p-4">
						<h4 class="mb-2 text-lg font-semibold text-blue-400">–§–æ—Ä–º—É–ª—ã</h4>
						<ul class="space-y-2 text-slate-300">
							<li>‚Ä¢ –ò–Ω—Ç–µ—Ä–≤–∞–ª –¥–æ –∏ –ø–æ—Å–ª–µ: 6 –ø—Ç</li>
							<li>‚Ä¢ –ü–æ—Å–ª–µ —Ñ–æ—Ä–º—É–ª—ã: –∑–∞–ø—è—Ç–∞—è, –µ—Å–ª–∏ –µ—Å—Ç—å "–≥–¥–µ"</li>
							<li>‚Ä¢ –ü–æ—Å–ª–µ —Ñ–æ—Ä–º—É–ª—ã: —Ç–æ—á–∫–∞, –µ—Å–ª–∏ –Ω–µ—Ç "–≥–¥–µ"</li>
						</ul>
					</div>
					<div class="rounded-lg bg-slate-800 p-4">
						<h4 class="mb-2 text-lg font-semibold text-blue-400">–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</h4>
						<ul class="space-y-2 text-slate-300">
							<li>‚Ä¢ –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å: —É–∫–∞–∑–∞—Ç—å –¥–∞—Ç—É –æ–±—Ä–∞—â–µ–Ω–∏—è</li>
							<li>‚Ä¢ –ö–Ω–∏–≥–∏/–∂—É—Ä–Ω–∞–ª—ã: –∞–≤—Ç–æ—Ä, –Ω–∞–∑–≤–∞–Ω–∏–µ, –≥–æ–¥, —Å—Ç—Ä–∞–Ω–∏—Ü—ã</li>
						</ul>
					</div>
				</div>
			</div>
		{:else if activeTab === 'lists'}
			<div class="space-y-4">
				<h3 class="mb-4 text-xl font-semibold text-white">–°–ø–∏—Å–∫–∏ –∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è</h3>
				<div class="grid gap-4 md:grid-cols-2">
					<div class="rounded-lg bg-slate-800 p-4">
						<h4 class="mb-2 text-lg font-semibold text-blue-400">
							–ú–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
						</h4>
						<div class="text-slate-300">
							<p>‚Äî–ø–µ—Ä–≤—ã–π –ø—É–Ω–∫—Ç;</p>
							<p>‚Äî–≤—Ç–æ—Ä–æ–π –ø—É–Ω–∫—Ç;</p>
							<p>‚Äî—Ç—Ä–µ—Ç–∏–π –ø—É–Ω–∫—Ç.</p>
						</div>
					</div>
					<div class="rounded-lg bg-slate-800 p-4">
						<h4 class="mb-2 text-lg font-semibold text-blue-400">–ë—É–∫–≤–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫</h4>
						<div class="text-slate-300">
							<p>–∞) –ü–µ—Ä–≤—ã–π –ø—É–Ω–∫—Ç;</p>
							<p>–±) –í—Ç–æ—Ä–æ–π –ø—É–Ω–∫—Ç;</p>
							<p>–≤) –¢—Ä–µ—Ç–∏–π –ø—É–Ω–∫—Ç.</p>
						</div>
					</div>
				</div>
				<div class="mt-4 rounded-lg bg-slate-700 p-4 text-slate-400">
					<p class="mb-2">–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:</p>
					<ul class="list-disc space-y-1 pl-4">
						<li>–í –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–≥–æ –ø—É–Ω–∫—Ç–∞, –∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ - —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π</li>
						<li>–í –ø–æ—Å–ª–µ–¥–Ω–µ–º –ø—É–Ω–∫—Ç–µ - —Ç–æ—á–∫–∞</li>
						<li>–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã - –≤–µ–∑–¥–µ —Ç–æ—á–∫–∏</li>
					</ul>
				</div>
			</div>
		{/if}
	</div>
</div>

<style>
	:global(svg) {
		max-width: 100%;
		height: auto;
	}
</style>
